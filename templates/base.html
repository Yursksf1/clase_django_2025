<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Todo List (Solo Frontend)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body {
      background-color: #f8f9fa;
    }

    .card {
      border-radius: 1rem;
    }

    .completed {
      text-decoration: line-through;
      color: gray;
    }
  </style>
</head>
<body>

{% block content %}
{% endblock %}

<!-- Bootstrap JS Bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
  const tasks = [
    { id: 1, title: "Comprar leche", completed: false },
    { id: 2, title: "Leer capÃ­tulo 3 del libro", completed: true },
    { id: 3, title: "Enviar correo al equipo", completed: false }
  ];

  const taskList = document.getElementById('task-list');
  const taskForm = document.getElementById('task-form');
  const taskInput = document.getElementById('task-title');

  function renderTasks() {
    taskList.innerHTML = '';
    tasks.forEach(task => {
      const li = document.createElement('li');
      li.className = 'list-group-item d-flex justify-content-between align-items-center';
      if (task.completed) li.classList.add('completed');

      li.innerHTML = `
        <span>${task.title}</span>
        <button class="btn btn-sm ${task.completed ? 'btn-warning' : 'btn-success'}">
          ${task.completed ? 'Desmarcar' : 'Hecha'}
        </button>
      `;

      li.querySelector('button').addEventListener('click', () => toggleTask(task.id));
      taskList.appendChild(li);
    });
  }

  function toggleTask(id) {
    const task = tasks.find(t => t.id === id);
    if (task) {
      task.completed = !task.completed;
      renderTasks();
    }
  }

  taskForm.addEventListener('submit', (e) => {
    e.preventDefault();
    const title = taskInput.value.trim();
    if (title === '') return;

    const newTask = {
      id: tasks.length + 1,
      title,
      completed: false
    };

    tasks.push(newTask);
    taskInput.value = '';
    renderTasks();
  });

  renderTasks();
</script>

</body>
</html>
